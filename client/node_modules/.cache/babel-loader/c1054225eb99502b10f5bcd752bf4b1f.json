{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'../styles/calendar.css';import SidePanel from'./SidePanel';import MainPanel from'./MainPanel';import CreateTraining from'./CreateTraining';function Calendar(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),createTraining=_useState2[0],updateCreateTraining=_useState2[1];var _useState3=useState(\"all\"),_useState4=_slicedToArray(_useState3,2),currentSquad=_useState4[0],updateCurrentSquad=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),squads=_useState6[0],updateSquads=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),trainings=_useState8[0],updateTrainings=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),currentTraining=_useState10[0],updateCurrentTraining=_useState10[1];useEffect(function(){fetch('/api/squads').then(function(res){return res.json();}).then(function(data){return updateSquads(data);});},[]);//Update when createTraining window closes\nuseEffect(function(){fetch(\"/api/training/?squad=\".concat(currentSquad)).then(function(res){return res.json();}).then(function(data){updateTrainings(data);});},[createTraining]);//Update when currentSquad changes\nuseEffect(function(){fetch(\"/api/training/?squad=\".concat(currentSquad)).then(function(res){return res.json();}).then(function(data){updateTrainings(data);});updateCurrentTraining({});},[currentSquad]);function handleClick(name,data){if(name===\"create-training\"){updateCreateTraining(true);}else if(name===\"current-training\"){updateCurrentTraining(data);}}return(// style={{backgroundImage: `url(${Background})`}}\nReact.createElement(\"div\",{className:\"calendar-wrapper\"},React.createElement(SidePanel,{updateSquad:updateCurrentSquad,squads:squads,currentSquad:currentSquad}),React.createElement(\"div\",null),React.createElement(MainPanel,{trainings:trainings,pageupdate:props.pageupdate,handleClick:handleClick,currentTraining:currentTraining}),createTraining?React.createElement(CreateTraining,{display:updateCreateTraining,squad:currentSquad,squads:squads}):false));}export default Calendar;","map":{"version":3,"sources":["C:\\Users\\haydo\\Desktop\\React Apps\\crewboard\\client\\src\\components\\Calendar.js"],"names":["React","useState","useEffect","SidePanel","MainPanel","CreateTraining","Calendar","props","createTraining","updateCreateTraining","currentSquad","updateCurrentSquad","squads","updateSquads","trainings","updateTrainings","currentTraining","updateCurrentTraining","fetch","then","res","json","data","handleClick","name","pageupdate"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,wBAAP,CAEA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,eAC0BN,QAAQ,CAAC,KAAD,CADlC,wCACdO,cADc,eACEC,oBADF,8BAEsBR,QAAQ,CAAC,KAAD,CAF9B,yCAEdS,YAFc,eAEAC,kBAFA,8BAGYV,QAAQ,CAAC,EAAD,CAHpB,yCAGbW,MAHa,eAGLC,YAHK,8BAIgBZ,QAAQ,CAAC,EAAD,CAJxB,yCAIda,SAJc,eAIHC,eAJG,8BAK4Bd,QAAQ,CAAC,EAAD,CALpC,0CAKde,eALc,gBAKGC,qBALH,gBAQrBf,SAAS,CAAC,UAAM,CACZgB,KAAK,CAAC,aAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIT,CAAAA,YAAY,CAACS,IAAD,CAAhB,EAFd,EAIH,CALQ,CAKN,EALM,CAAT,CAMA;AACApB,SAAS,CAAC,UAAM,CACZgB,KAAK,gCAAyBR,YAAzB,EAAL,CACKS,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVP,eAAe,CAACO,IAAD,CAAf,CACH,CAJL,EAKH,CANQ,CAMN,CAACd,cAAD,CANM,CAAT,CAQA;AACAN,SAAS,CAAC,UAAM,CACZgB,KAAK,gCAAyBR,YAAzB,EAAL,CACKS,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAG,IAAI,CAAI,CACVP,eAAe,CAACO,IAAD,CAAf,CACH,CAJL,EAKIL,qBAAqB,CAAC,EAAD,CAArB,CACP,CAPQ,CAON,CAACP,YAAD,CAPM,CAAT,CASA,QAASa,CAAAA,WAAT,CAAqBC,IAArB,CAA0BF,IAA1B,CAAgC,CAC5B,GAAIE,IAAI,GAAK,iBAAb,CAAgC,CAC5Bf,oBAAoB,CAAC,IAAD,CAApB,CACH,CAFD,IAGK,IAAGe,IAAI,GAAK,kBAAZ,CAAgC,CACjCP,qBAAqB,CAACK,IAAD,CAArB,CACH,CACJ,CAGD,MACI;AACA,2BAAK,SAAS,CAAC,kBAAf,EACI,oBAAC,SAAD,EAAW,WAAW,CAAEX,kBAAxB,CAA4C,MAAM,CAAEC,MAApD,CAA4D,YAAY,CAAEF,YAA1E,EADJ,CAEI,+BAFJ,CAGI,oBAAC,SAAD,EACI,SAAS,CAAEI,SADf,CAEI,UAAU,CAAEP,KAAK,CAACkB,UAFtB,CAGI,WAAW,CAAEF,WAHjB,CAII,eAAe,CAAEP,eAJrB,EAHJ,CASKR,cAAc,CAAG,oBAAC,cAAD,EAAgB,OAAO,CAAEC,oBAAzB,CAA+C,KAAK,CAAEC,YAAtD,CAAoE,MAAM,CAAEE,MAA5E,EAAH,CAA4F,KAT/G,CAFJ,EAcH,CACD,cAAeN,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport '../styles/calendar.css'\r\n\r\nimport SidePanel from './SidePanel'\r\nimport MainPanel from './MainPanel'\r\nimport CreateTraining from './CreateTraining'\r\n\r\nfunction Calendar(props) {\r\n    const [createTraining, updateCreateTraining] = useState(false)\r\n    const [currentSquad, updateCurrentSquad] = useState(\"all\")\r\n    const [ squads, updateSquads ] = useState([])\r\n    const [trainings, updateTrainings] = useState([])\r\n    const [currentTraining, updateCurrentTraining] = useState({})\r\n\r\n\r\n    useEffect(() => {\r\n        fetch('/api/squads')\r\n            .then(res => res.json())\r\n            .then(data => updateSquads(data))\r\n\r\n    }, [])\r\n    //Update when createTraining window closes\r\n    useEffect(() => {\r\n        fetch(`/api/training/?squad=${currentSquad}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                updateTrainings(data)\r\n            })\r\n    }, [createTraining])\r\n\r\n    //Update when currentSquad changes\r\n    useEffect(() => {\r\n        fetch(`/api/training/?squad=${currentSquad}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                updateTrainings(data)\r\n            })\r\n            updateCurrentTraining({})\r\n    }, [currentSquad])\r\n\r\n    function handleClick(name,data) {\r\n        if (name === \"create-training\") {\r\n            updateCreateTraining(true)\r\n        }\r\n        else if(name === \"current-training\") {\r\n            updateCurrentTraining(data)\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        // style={{backgroundImage: `url(${Background})`}}\r\n        <div className=\"calendar-wrapper\" >\r\n            <SidePanel updateSquad={updateCurrentSquad} squads={squads} currentSquad={currentSquad}/>\r\n            <div></div>\r\n            <MainPanel \r\n                trainings={trainings} \r\n                pageupdate={props.pageupdate} \r\n                handleClick={handleClick}\r\n                currentTraining={currentTraining}\r\n                />\r\n            {createTraining ? <CreateTraining display={updateCreateTraining} squad={currentSquad} squads={squads} /> : false}\r\n        </div>\r\n    )\r\n}\r\nexport default Calendar"]},"metadata":{},"sourceType":"module"}
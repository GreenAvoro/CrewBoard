{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import EditMember from'./EditMember';function FindMember(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),search=_useState2[0],updateSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchedMembers=_useState4[0],updateSearchedMembers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),editMember=_useState6[0],updateEditMember=_useState6[1];function handleChange(e){if(e.target.name===\"search\"){updateSearch(e.target.value);}}function deleteName(id){fetch('/api/member/delete',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id})}).then(function(res){return res.json();});}useEffect(function(){fetch('/api/member/search',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({search:search})}).then(function(res){return res.json();}).then(function(data){updateSearchedMembers(data);});console.log(searchedMembers);},[search]);return React.createElement(\"div\",{className:\"form-element\"},editMember!==null?React.createElement(EditMember,{member:editMember,closePanel:updateEditMember}):false,React.createElement(\"h3\",null,\"Search Members\"),React.createElement(\"input\",{name:\"search\",className:\"search-bar\",onChange:handleChange}),React.createElement(\"div\",{className:\"members-search\"},searchedMembers.map(function(member,i){return React.createElement(\"div\",{className:\"members-search-item\",key:i},React.createElement(\"p\",null,\"\".concat(member.firstName,\" \").concat(member.lastName)),React.createElement(\"div\",{className:\"members-search-item-buttons\"},React.createElement(\"p\",{onClick:function onClick(){return updateEditMember(member);}},\"Edit\"),React.createElement(\"p\",{onClick:function onClick(e){if(window.confirm('Are you sure you wish to delete this item?')){deleteName(member._id);updateSearchedMembers(function(prevState){return prevState.filter(function(mem){return mem._id!==member._id;});});}}},\"Delete\")));})));}export default FindMember;","map":{"version":3,"sources":["C:\\Users\\haydo\\Desktop\\React Apps\\crewboard\\client\\src\\components\\FindMember.js"],"names":["React","useState","useEffect","EditMember","FindMember","props","search","updateSearch","searchedMembers","updateSearchedMembers","editMember","updateEditMember","handleChange","e","target","name","value","deleteName","id","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","map","member","i","firstName","lastName","window","confirm","_id","prevState","filter","mem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport EditMember from './EditMember'\r\n\r\nfunction FindMember(props) {\r\n\r\n    const [search, updateSearch] = useState()\r\n    const [searchedMembers, updateSearchedMembers] = useState([])\r\n    const [editMember, updateEditMember] = useState(null)\r\n\r\n    function handleChange(e) {\r\n        if (e.target.name === \"search\") {\r\n            updateSearch(e.target.value)\r\n        }\r\n\r\n\r\n    }\r\n    function deleteName(id){\r\n        fetch('/api/member/delete', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id: id})\r\n        })\r\n        .then(res => res.json())\r\n    }\r\n    useEffect(() => {\r\n        fetch('/api/member/search', {\r\n            method: \"POST\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({search: search})\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            updateSearchedMembers(data)\r\n        })\r\n        console.log(searchedMembers)\r\n    }, [search])\r\n\r\n    return (\r\n        <div className=\"form-element\">\r\n            {editMember !== null ? <EditMember member={editMember} closePanel={updateEditMember}/> : false}\r\n            <h3>Search Members</h3>\r\n            <input name=\"search\" className=\"search-bar\" onChange={handleChange} />\r\n            <div className=\"members-search\">\r\n                {searchedMembers.map((member,i) => <div className=\"members-search-item\" key={i}>\r\n                    <p>{`${member.firstName} ${member.lastName}`}</p>\r\n                    <div className=\"members-search-item-buttons\">\r\n                        <p onClick={() => updateEditMember(member)}>Edit</p>\r\n                        <p onClick={(e) => { \r\n                            if (window.confirm('Are you sure you wish to delete this item?')) {\r\n                                deleteName(member._id)\r\n                                updateSearchedMembers(prevState => prevState.filter(mem => mem._id !== member._id))\r\n                            }\r\n                             } }>Delete</p>\r\n                    </div>\r\n            </div>)}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default FindMember"]},"metadata":{},"sourceType":"module"}
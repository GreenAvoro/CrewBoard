{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\src\\\\components\\\\FindMember.js\";\nimport React, { useState, useEffect } from 'react';\nimport EditMember from './EditMember';\n\nfunction FindMember(props) {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        search = _useState2[0],\n        updateSearch = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        searchedMembers = _useState4[0],\n        updateSearchedMembers = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        editMember = _useState6[0],\n        updateEditMember = _useState6[1];\n\n  function handleChange(e) {\n    if (e.target.name === \"search\") {\n      updateSearch(e.target.value);\n    }\n  }\n\n  function deleteName(id) {\n    fetch('/api/member/delete', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    }).then(res => res.json());\n  }\n\n  useEffect(() => {\n    fetch('/api/member/search', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        search: search\n      })\n    }).then(res => res.json()).then(data => {\n      updateSearchedMembers(data);\n    });\n    console.log(searchedMembers);\n  }, [search]);\n  return React.createElement(\"div\", {\n    className: \"form-element\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, editMember ? React.createElement(EditMember, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }) : false, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Search Members\"), React.createElement(\"input\", {\n    name: \"search\",\n    className: \"search-bar\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"members-search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, searchedMembers.map((member, i) => React.createElement(\"div\", {\n    className: \"members-search-item\",\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"\".concat(member.firstName, \" \").concat(member.lastName)), React.createElement(\"div\", {\n    className: \"members-search-item-buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    onClick: () => updateEditMember(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(\"p\", {\n    onClick: e => {\n      if (window.confirm('Are you sure you wish to delete this item?')) {\n        deleteName(member._id);\n        updateSearchedMembers(prevState => prevState.filter(mem => mem._id !== member._id));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Delete\"))))));\n}\n\nexport default FindMember;","map":{"version":3,"sources":["C:\\Users\\haydo\\Desktop\\React Apps\\crewboard\\client\\src\\components\\FindMember.js"],"names":["React","useState","useEffect","EditMember","FindMember","props","search","updateSearch","searchedMembers","updateSearchedMembers","editMember","updateEditMember","handleChange","e","target","name","value","deleteName","id","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","map","member","i","firstName","lastName","window","confirm","_id","prevState","filter","mem"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport EditMember from './EditMember'\r\n\r\nfunction FindMember(props) {\r\n\r\n    const [search, updateSearch] = useState()\r\n    const [searchedMembers, updateSearchedMembers] = useState([])\r\n    const [editMember, updateEditMember] = useState(false)\r\n\r\n    function handleChange(e) {\r\n        if (e.target.name === \"search\") {\r\n            updateSearch(e.target.value)\r\n        }\r\n\r\n\r\n    }\r\n    function deleteName(id){\r\n        fetch('/api/member/delete', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id: id})\r\n        })\r\n        .then(res => res.json())\r\n    }\r\n    useEffect(() => {\r\n        fetch('/api/member/search', {\r\n            method: \"POST\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({search: search})\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            updateSearchedMembers(data)\r\n        })\r\n        console.log(searchedMembers)\r\n    }, [search])\r\n\r\n    return (\r\n        <div className=\"form-element\">\r\n            {editMember ? <EditMember /> : false}\r\n            <h3>Search Members</h3>\r\n            <input name=\"search\" className=\"search-bar\" onChange={handleChange} />\r\n            <div className=\"members-search\">\r\n                {searchedMembers.map((member,i) => <div className=\"members-search-item\" key={i}>\r\n                    <p>{`${member.firstName} ${member.lastName}`}</p>\r\n                    <div className=\"members-search-item-buttons\">\r\n                        <p onClick={() => updateEditMember(true)}>Edit</p>\r\n                        <p onClick={(e) => { \r\n                            if (window.confirm('Are you sure you wish to delete this item?')) {\r\n                                deleteName(member._id)\r\n                                updateSearchedMembers(prevState => prevState.filter(mem => mem._id !== member._id))\r\n                            }\r\n                             } }>Delete</p>\r\n                    </div>\r\n            </div>)}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default FindMember"]},"metadata":{},"sourceType":"module"}
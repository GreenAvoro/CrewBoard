{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\haydo\\\\Desktop\\\\React Apps\\\\crewboard\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import MemberList from'./MemberList';import CrewList from'./CrewList';function CrewMaker(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),memberList=_useState2[0],updateMemberList=_useState2[1];var _useState3=useState([{name:\"David James\",class:1},{name:\"Steven Mayo Smith\",class:1},{name:\"Sweetmans\",class:4},{name:\"Richard Dykes\",class:2},{name:\"Drury\",class:4},{name:\"Kelsey Bevan\",class:2},{name:\"Noel Playle II\",class:8},{name:\"Millet Moore\",class:8}]),_useState4=_slicedToArray(_useState3,2),boatList=_useState4[0],updateBoatList=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selected=_useState6[0],updateSelected=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),boatSelected=_useState8[0],updateBoatSelected=_useState8[1];var _useState9=useState([{id:1,members:[],boat:{}},{id:2,members:[],boat:{}}]),_useState10=_slicedToArray(_useState9,2),crews=_useState10[0],updateCrews=_useState10[1];//Fetch Members of selected squad\nuseEffect(function(){fetch(\"https://nameless-garden-05700.herokuapp.com/api/member?squad=\".concat(props.squad)).then(function(res){return res.json();}).then(function(data){data=data.map(function(member){return\"\".concat(member.firstName,\" \").concat(member.lastName);});updateMemberList(data);});},[]);function boatSelect(boat){boatSelected===boat?updateBoatSelected({}):updateBoatSelected(boat);}function handleSelect(member_name){if(!selected.includes(member_name)){updateSelected(function(prevState){return[].concat(_toConsumableArray(prevState),[member_name]);});}else{updateSelected(function(prevState){return prevState.filter(function(item){return item!==member_name;});});}}function addMembers(crew_id){//Attempt adding selected to crews\nvar my_crews=crews.map(function(item){return item;});if(crew_id!==\"memList\"){my_crews.forEach(function(crew){if(crew.id===crew_id){selected.forEach(function(name){if(!crew.members.includes(name)){crew.members.push(name);}});if(Object.getOwnPropertyNames(crew.boat).length===0){crew.boat=boatSelected;//Get boat out of boatlist\nif(crew_id!==\"memList\"){updateBoatList(function(prevState){return prevState.filter(function(boat){return boat!==boatSelected;});});}//Get selected boat out of other crews\nmy_crews.forEach(function(crew){if(crew.id!==crew_id){if(crew.boat.name===boatSelected.name){crew.boat={};}}});updateBoatSelected({});}}});}else{//Add memebers back to member list\nvar newMemList=memberList.map(function(item){return item;});selected.forEach(function(mem){if(!newMemList.includes(mem)){newMemList.push(mem);}});updateMemberList(newMemList);if(Object.getOwnPropertyNames(boatSelected).length!==0){if(!boatList.includes(boatSelected)){var newBoatList=boatList.map(function(boat){return boat;});newBoatList.push(boatSelected);updateBoatList(newBoatList);my_crews.forEach(function(crew){if(crew.id!==crew_id){if(crew.boat.name===boatSelected.name){crew.boat={};}}});updateBoatSelected({});}}}//Get selected out of memberlist\nselected.forEach(function(item){if(crew_id!==\"memList\"){updateMemberList(function(prevState){return prevState.filter(function(member){return member!==item;});});}//Get selected out of crewlist by checking every crew list except the one you're\n//trying to add to\nmy_crews.forEach(function(crew){if(crew.id!==crew_id){var new_crew=[];crew.members.forEach(function(member,i){if(!selected.includes(member)){new_crew.push(member);}});crew.members=new_crew;}});});//Add selected to given crew\nupdateCrews(my_crews);updateSelected([]);}function addCrew(){var my_crews=crews.map(function(item){return item;});my_crews.push({id:my_crews.length+1,members:[],boat:{}});updateCrews(my_crews);}return React.createElement(\"div\",{className:\"content-wrapper\"},React.createElement(MemberList,{boats:boatList,members:memberList,memberclick:handleSelect,selected:selected,boatselected:boatSelected,listclick:addMembers,boatclick:boatSelect}),React.createElement(CrewList,{crews:crews,callback:addMembers,memberclick:handleSelect,selected:selected,boatselected:boatSelected,addcrew:addCrew,boatclick:boatSelect}));}export default CrewMaker;","map":{"version":3,"sources":["C:\\Users\\haydo\\Desktop\\React Apps\\crewboard\\client\\src\\components\\CrewMaker.js"],"names":["React","useState","useEffect","MemberList","CrewList","CrewMaker","props","memberList","updateMemberList","name","class","boatList","updateBoatList","selected","updateSelected","boatSelected","updateBoatSelected","id","members","boat","crews","updateCrews","fetch","squad","then","res","json","data","map","member","firstName","lastName","boatSelect","handleSelect","member_name","includes","prevState","filter","item","addMembers","crew_id","my_crews","forEach","crew","push","Object","getOwnPropertyNames","length","newMemList","mem","newBoatList","new_crew","i","addCrew"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport MemberList from './MemberList'\r\nimport CrewList from './CrewList'\r\n\r\nfunction CrewMaker(props) {\r\n    const [memberList, updateMemberList] = useState([])\r\n    const [ boatList, updateBoatList ] = useState([\r\n        {name: \"David James\",class: 1},\r\n        {name: \"Steven Mayo Smith\",class: 1},\r\n        {name: \"Sweetmans\", class: 4},\r\n        {name: \"Richard Dykes\", class: 2},\r\n        {name: \"Drury\", class: 4},\r\n        {name: \"Kelsey Bevan\", class: 2},\r\n        {name: \"Noel Playle II\",class:  8},\r\n        {name: \"Millet Moore\", class: 8}\r\n    ])\r\n    const [selected, updateSelected] = useState([])\r\n    const [boatSelected, updateBoatSelected] = useState({})\r\n    const [crews, updateCrews] = useState([\r\n        { id: 1, members: [], boat: {}},\r\n        { id: 2, members: [], boat: {} }\r\n    ])\r\n\r\n    //Fetch Members of selected squad\r\n    useEffect(() => {\r\n        fetch(`https://nameless-garden-05700.herokuapp.com/api/member?squad=${props.squad}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                data = data.map(member => `${member.firstName} ${member.lastName}`)\r\n                updateMemberList(data)\r\n            })\r\n    }, [])\r\n\r\n    function boatSelect(boat){\r\n        boatSelected === boat ? \r\n            updateBoatSelected({}):\r\n            updateBoatSelected(boat)\r\n    }\r\n\r\n\r\n\r\n    function handleSelect(member_name) {\r\n        if (!selected.includes(member_name)) {\r\n            updateSelected(prevState => [...prevState, member_name])\r\n        } else {\r\n            updateSelected(prevState => prevState.filter(item => {\r\n                return item !== member_name\r\n            }))\r\n        }\r\n    }\r\n\r\n\r\n    function addMembers(crew_id) {\r\n        //Attempt adding selected to crews\r\n        const my_crews = crews.map(item => item)\r\n        if (crew_id !== \"memList\") {\r\n            my_crews.forEach(crew => {\r\n                if (crew.id === crew_id) {\r\n                    selected.forEach(name => {\r\n                        if (!crew.members.includes(name)) {\r\n                            crew.members.push(name)\r\n                        }\r\n                    })\r\n                    if(Object.getOwnPropertyNames(crew.boat).length === 0){\r\n\r\n                        crew.boat = boatSelected\r\n                        //Get boat out of boatlist\r\n                        if (crew_id !== \"memList\") {\r\n                            updateBoatList(prevState => prevState.filter(boat => {\r\n                                return boat !== boatSelected\r\n                            }))\r\n                        }\r\n                        //Get selected boat out of other crews\r\n                        my_crews.forEach(crew => {\r\n                            if(crew.id !== crew_id){\r\n                                if(crew.boat.name === boatSelected.name){\r\n                                    crew.boat = {}\r\n                                }\r\n                            }\r\n                        })\r\n                        updateBoatSelected({})\r\n                    }\r\n                }\r\n            })\r\n        } else {//Add memebers back to member list\r\n            const newMemList = memberList.map(item => item)\r\n            selected.forEach(mem => {\r\n                if(!newMemList.includes(mem)){\r\n                    newMemList.push(mem)\r\n                }\r\n            })\r\n            updateMemberList(newMemList)\r\n            \r\n            if(Object.getOwnPropertyNames(boatSelected).length !== 0){\r\n                if(!boatList.includes(boatSelected)){\r\n                    const newBoatList = boatList.map(boat => boat)\r\n                    newBoatList.push(boatSelected)\r\n                    updateBoatList(newBoatList)\r\n                    my_crews.forEach(crew => {\r\n                        if(crew.id !== crew_id){\r\n                            if(crew.boat.name === boatSelected.name){\r\n                                crew.boat = {}\r\n                            }\r\n                        }\r\n                    })\r\n                    updateBoatSelected({})\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n        //Get selected out of memberlist\r\n        selected.forEach(item => {\r\n            if (crew_id !== \"memList\") {\r\n                updateMemberList(prevState => prevState.filter(member => {\r\n                    return member !== item\r\n                }))\r\n            }\r\n            //Get selected out of crewlist by checking every crew list except the one you're\r\n            //trying to add to\r\n            my_crews.forEach(crew => {\r\n                if (crew.id !== crew_id) {\r\n                    var new_crew = []\r\n                    crew.members.forEach((member, i) => {\r\n                        if (!selected.includes(member)) {\r\n                            new_crew.push(member)\r\n                        }\r\n                    })\r\n                    crew.members = new_crew\r\n                }\r\n            })\r\n\r\n        })\r\n        \r\n        //Add selected to given crew\r\n        updateCrews(my_crews)\r\n\r\n        updateSelected([])\r\n        \r\n    }\r\n\r\n    function addCrew() {\r\n        const my_crews = crews.map(item => item)\r\n        my_crews.push({ id: my_crews.length + 1, members: [], boat: {} })\r\n        updateCrews(my_crews)\r\n    }\r\n\r\n    return (\r\n        <div className=\"content-wrapper\">\r\n            <MemberList \r\n                        boats={boatList} \r\n                        members={memberList} \r\n                        memberclick={handleSelect} \r\n                        selected={selected} \r\n                        boatselected={boatSelected}\r\n                        listclick={addMembers} \r\n                        boatclick={boatSelect}\r\n            />\r\n            \r\n            <CrewList \r\n                        crews={crews} \r\n                        callback={addMembers} \r\n                        memberclick={handleSelect} \r\n                        selected={selected} \r\n                        boatselected={boatSelected}\r\n                        addcrew={addCrew} \r\n                        boatclick={boatSelect}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CrewMaker"]},"metadata":{},"sourceType":"module"}